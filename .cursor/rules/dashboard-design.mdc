---
description:
globs:
alwaysApply: false
---
######################################################################
#  .cursorrules â€“ SecurityShield (v2) â†’ DETAILNÃ DESIGN GUIDELINE     #
#  CÃ­l: 1 : 1 sjednocenÃ­ UI/UX s landing page, A11y, vÃ½kon, Äistota   #
#  FormÃ¡t: 7 fÃ¡zÃ­, KAÅ½DÃ â‰ˆ mini-spec (dÃ©lka ~500-800 Å™Ã¡dkÅ¯ kÃ³du)      #
#  Kodex: BEZ EMOJI v UI, primÃ¡rnÃ­ font Montserrat vÅ¡ude.            #
######################################################################

======================================================================
ğŸ”¥ PREAMBULE (platÃ­ globÃ¡lnÄ›)
======================================================================
P-01  KaÅ¾dÃ½ PR musÃ­ implementovat celou dÃ­lÄÃ­ kapitolu (step) danÃ© fÃ¡ze.
P-02  Do `commit` zprÃ¡v pÅ™idÃ¡vej prefix `[phase-x][step-y]`.
P-03  KaÅ¾dÃ½ komponent = samostatnÃ½ Storybook story + Jest/RTL test.
P-04  Montserrat je defaultnÃ­ font (import pÅ™es `@fontsource/montserrat`).
P-05  NeuÅ¾Ã­vej ğŸ› emoji ani jinÃ© grafickÃ© emotikony. Ikony = `lucide-react`.
P-06  DodrÅ¾ pascalCase pro komponenty, camelCase pro hooky.
P-07  VÅ¡echny Tailwind utility musÃ­ vychÃ¡zet z promÄ›nnÃ½ch v `tailwind.config.js`.
P-08  MaximÃ¡lnÃ­ CLS < 0.05, LCP < 2.5 s (na 3G slow, Chrome devtools).

======================================================================
ğŸ›«  FÃZE 0  â€”  â€BOOTSTRAPâ€œ
======================================================================
**CÃ­l:** pÅ™ipravit repo, tokeny, Tailwind, Storybook, CI.

0-01  OrdnerovÃ¡ struktura
|â€” src
|   |â€” app         # pages + routing
|   |â€” components  # atoms, molecules, organisms
|   |â€” theme       # tokeny, hooks
|   |â€” utils       # helpers, api
|â€” tests           # jest setup
|â€” .storybook
0-02  `tailwind.config.js`
    module.exports = {
      theme: {
        fontFamily: {
          sans: ['"Montserrat"', 'sans-serif'],
        },
        colors: {
          bg:    { main: '#0f172a', card: '#111827' },
          text:  { main: '#F9FAFB', sec: '#9CA3AF', hint:'#6B7280' },
          brand: { base:'#3B82F6', hover:'#2563EB' },
          state: { success:'#10B981', warning:'#F59E0B', danger:'#EF4444' }
        },
        borderRadius: { sm:'6px', DEFAULT:'12px', lg:'18px' },
        boxShadow: {
          card:'0 0 15px rgba(0,0,0,.35)',
          glow:'0 0 20px rgba(59,130,246,.45)',
        },
      },
      plugins:[require('@tailwindcss/forms'),require('@tailwindcss/typography')],
    };
0-03  `theme/tokens.ts`
    export const tokens = { â€¦ stejnÃ¡ data jako v Tailwind â€¦ };
0-04  Storybook + Chromatic + Percy viz diffs.
0-05  GitHub Action: build, test, storybook deploy, lighthouse.

======================================================================
ğŸ”µ  FÃZE 1  â€”  â€GLOBAL STYLE SHEETâ€œ
======================================================================
**CÃ­l:** vytvoÅ™it globÃ¡lnÃ­ layout, definovat utility tÅ™Ã­dy, reset.

1-01 `src/theme/globals.css`
    â€¢ CSS reset (modern-normalize)
    â€¢ `body { @apply bg-bg-main text-text-main font-sans antialiased; }`
    â€¢ Scrollbar styling: width 6 px, track #0f1a2e, thumb brand/hover.
1-02  Utility klasa `.container-main` â†’ `max-w-[1440px] mx-auto px-4 md:px-6`.
1-03  `.surface-card` â†’ @apply bg-bg-card rounded-lg border border-white/5 shadow-card.
1-04  `.focus-ring`   â†’ ring-2 ring-brand-base ring-offset-2 ring-offset-bg-main.
1-05  A11y: `html` attr `lang` dynamic via i18n.

======================================================================
ğŸŸ£  FÃZE 2  â€”  â€LAYOUT & NAVâ€œ
======================================================================
**CÃ­l:** Sidebar, Header (AnnouncementBar), Page shell.

Step 2-1 **Sidebar**
    â€¢ Width 260 px, fixed, overflow-y-auto, backdrop-blur-md 6 px.
    â€¢ Item component `<NavItem icon label to />`
        - active: @apply bg-brand-base/10 text-brand-base border-l-4 border-brand-base.
        - hover:  @apply bg-white/5 text-white.
    â€¢ Expand / collapse icon (doubleChevronLeft) â€“ animace Framer Motion.

Step 2-2 **TopBar**
    â€¢ `<AnnouncementBar>` height 36 px, gradient `bg-gradient-to-r from-brand-base/80 to-brand-hover/60`.
    â€¢ text-xs tracking-wide, icon `Lock`.
    â€¢ hidden on `print`.

Step 2-3 **PageShell**
    ```tsx
    <PageShell>
      <Sidebar />
      <main className="flex-1 container-main py-8">{children}</main>
    </PageShell>
    ```

======================================================================
ğŸŸ¢  FÃZE 3  â€”  â€DESIGN SYSTEM â€“ ATOMS / MOLECULESâ€œ
======================================================================
*(KaÅ¾dÃ½ bod = samostatnÃ½ PR + Storybook + tests)*

3-A `<Button>` props {variant:'primary'|'secondary'|'ghost'|'danger', size:'sm'|'md'}
     variant map:
       primary  â†’ bg-brand-base text-white shadow-glow hover:bg-brand-hover
       secondaryâ†’ bg-white/5 text-text-main hover:bg-white/10
       ghost    â†’ text-brand-base hover:bg-brand-base/5
       danger   â†’ bg-state-danger text-white hover:bg-[#dc2626]

3-B `<Badge>` props {tone:'success'|'warning'|'danger'|'info'}
     @apply text-xs font-medium px-2 py-[2px] rounded bg-[tone]/10 text-[tone]

3-C `<Card>`: `.surface-card p-6 transition hover:-translate-y-1 hover:shadow-glow`.

3-D `<Field>`: input w/ label, error state (red ring, small error text).

3-E `<ProgressBar value>`: `<div class="h-1 w-full bg-white/10 rounded-full"><div style={{width:`${value}%`}} class="h-full rounded-full bg-gradient-to-r from-brand-hover to-brand-base"></div></div>`.

3-F `<Icon>` wrapper â€“ lucide-react, size props 16/20/24.

======================================================================
ğŸ”´  FÃZE 4  â€”  â€ADVANCED ORGANISMS & ANIMACEâ€œ
======================================================================
4-1 `<Timeline>` (threat feed)
     Grid cols-[14px 1fr], css before-line: `::before absolute left-[6px] top-0 w-[2px] h-full bg-gradient-to-b from-[color]`.
     Pro severity (critical/high/medium/low) mÄ›Åˆ gradient bar + dot barvy.

4-2 `<DonutProgress>` â€“ victory Pie, central label, brand color gradient.

4-3 Animace: 
     * Cards â€“ fade & translateY 8px on mount (Framer).
     * Sidebar items â€“ subtle scale 1.05 on hover.
     * Drag-and-drop zone â€“ animate-pulse border-brand-base.

======================================================================
ğŸŸ¡  FÃZE 5  â€”  â€PAGE IMPLEMENTATION DETAILSâ€œ
======================================================================
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5-1  `/dashboard`                                            â”‚
â”‚      â€¢ Hero XP panel â†’ 2-grid (info left, total XP right).   â”‚
â”‚      â€¢ RecentAchievements list (max 4) inside Card w/ glow.  â”‚
â”‚      â€¢ Stat-grid = 4 cols md:2 cols sm:1 col.                â”‚
â”‚                                                              â”‚
â”‚ 5-2  `/scanner` PREMIUM DETAIL                               â”‚
â”‚      â€¢ `<DropZone>` 400Ã—220 px dashed border-brand,           â”‚
â”‚        overlay icon Upload (line), h2 â€œNahraj souborâ€¦â€.      â”‚
â”‚      â€¢ On dragOver: border becomes solid, shadow-glow.       â”‚
â”‚      â€¢ Right stats card â€” metric rows, each row flex between â”‚
â”‚        label & value, value color by tokens success/danger.  â”‚
â”‚      â€¢ Recent scans Table: columns fileName | date | result  â”‚
â”‚        â€” result Badge (success/danger).                      â”‚
â”‚                                                              â”‚
â”‚ 5-3  `/training`                                             â”‚
â”‚      â€¢ CourseCard: ProgressBar + small category badge.       â”‚
â”‚                                                              â”‚
â”‚ 5-4  `/threats`                                              â”‚
â”‚      â€¢ Filter pills segmented control brand-base active.     â”‚
â”‚      â€¢ Timeline feed from 4-1.                               â”‚
â”‚                                                              â”‚
â”‚ â€¦ (phishing, cert, reports, settings) â€“ viz README-pages.md  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

======================================================================
ğŸŸ¤  FÃZE 6  â€”  â€ACCESSIBILITY & PERFORMANCEâ€œ
======================================================================
6-A Lighthouse PWA â‰¥ 90 vÅ¡ude.  
6-B `prefers-reduced-motion` respect â€“ disable translate anim.  
6-C ARIA live regions pro progress & toast.  
6-D Keyboard nav: Tab order, Esc close modals, F-6 skip sidebar.

======================================================================
âšª  FÃZE 7  â€”  â€FUTURE / NICE-TO-HAVEâ€œ  (blokovÃ¡no CI)
======================================================================
7-1 Theme light mode (CSS vars), 7-2 dynamic wallpapers, 7-3 E2E tests (Playwright), 7-4 plugin architektura.

======================================================================
âœ”  DOD (Definition of Done) pro KAÅ½DÃ task
======================================================================
â€¢ Unit + RTL test coverage 100 % lines touched.  
â€¢ Storybook snapshot vis diff < 0.1 %.  
â€¢ ESLint, Prettier, Type-check = 0 warn.  
â€¢ PR description obsahuje â€œCloses #ticket-ID, Phase-X, Step-Yâ€.  
â€¢ Reviewer potvrzuje checklist.

######################   KONEC SOUBORU  ##############################
